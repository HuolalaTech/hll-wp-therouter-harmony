"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorUtil=void 0;const ErrorLogConsts_js_1=require("../consts/ErrorLogConsts.js"),adaptor_error_js_1=require("../error/adaptor-error.js"),HvigorErrorCommonAdapter_js_1=require("../logger/HvigorErrorCommonAdapter.js"),HvigorErrorInfo_js_1=require("../logger/HvigorErrorInfo.js");class ErrorUtil{static getRealError(r){return r instanceof HvigorErrorInfo_js_1.HvigorErrorInfo?r:new HvigorErrorInfo_js_1.HvigorErrorInfo({code:(null==r?void 0:r.code)||ErrorLogConsts_js_1.UNDEFINED_CODE,cause:(null==r?void 0:r.cause)||ErrorLogConsts_js_1.UNDEFINED_CAUSE,description:(null==r?void 0:r.description)||ErrorLogConsts_js_1.UNDEFINED_DESC,position:(null==r?void 0:r.position)||ErrorLogConsts_js_1.UNDEFINED_POS,solutions:(null==r?void 0:r.solutions)||[],moreInfo:null==r?void 0:r.moreInfo})}static combinePhase(r){if(!r.description){const o=this.getErrorTypeCodeFromErrorCode(r.code);if(o){const e=ErrorLogConsts_js_1.ErrorCodeDescription[o];r.description=null!=e?e:r.description}}const o=ErrorUtil.getRealError(r);return(new HvigorErrorCommonAdapter_js_1.HvigorErrorCommonAdapter).convertErrorToLogInfo(o).getMessage()}static getErrorTypeCodeFromErrorCode(r){if(r&&!(r.length<5))return r.slice(3,5)}static getFirstErrorAdaptorMessage(r){var o;return null!==(o=r[0])&&void 0!==o?o:{message:""}}static isAdaptorError(r){return r.name===adaptor_error_js_1.AdaptorError.NAME||r instanceof adaptor_error_js_1.AdaptorError}}exports.ErrorUtil=ErrorUtil;